const { createClient } = require(\"@supabase/supabase-js\");\n\nconst SUPABASE_URL = \"https://numjphltuyfbpyrnevlu.supabase.co\";\nconst SERVICE_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51bWpwaGx0dXlmYnB5cm5ldmx1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NzIyOTMwNSwiZXhwIjoyMDYyODA1MzA1fQ.HGzL8CliXQ-8LMdAf6QCDdb82qLGdjcQC3ekdaeRhdw\";\n\n// Crear cliente estándar con la clave de servicio\nconst supabaseAdmin = createClient(SUPABASE_URL, SERVICE_KEY, {\n  auth: {\n    autoRefreshToken: false,\n    persistSession: false,\n    detectSessionInUrl: false\n  },\n  global: {\n    headers: {\n      Authorization: `Bearer ${SERVICE_KEY}`,\n      apikey: SERVICE_KEY\n    }\n  }\n});\n\n// Verificar conexión\nsupabaseAdmin.auth.admin.listUsers({ perPage: 1 })\n  .then(({ data, error }) => {\n    if (error) {\n      console.error(\"Error al conectarse a Supabase:\", error.message);\n      console.error(\"El problema parece ser con la clave de servicio o permisos.\");\n    } else {\n      console.log(\"Conexión exitosa a Supabase con clave de servicio\");\n      console.log(`Usuarios encontrados: ${data.users.length}`);\n    }\n  })\n  .catch(err => {\n    console.error(\"Error crítico en la conexión:\", err.message);\n  });